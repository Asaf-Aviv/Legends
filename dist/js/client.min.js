"use strict";function successAlert(e,a,t){iziToast.show({titleColor:"green",iconColor:"green",icon:t,message:e,position:a})}function errorAlert(e,a){iziToast.show({titleColor:"red",iconColor:"red",icon:"fa fa-exclamation-triangle",title:"Error: ",message:e,position:a,overlay:!0,overlayClose:!0})}function fixPopover(){$('[data-trigger="manual"]').click(function(e){$(this).popover("toggle"),e.preventDefault()}).blur(function(){$(this).popover("hide")})}function createLoader(e){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";$(e).addClass("position-relative").prepend($('<div class="ui active dimmer"></div>').append($('<div class="ui text loader">'+a+"</div>")))}$(function(){var e=window.location.pathname.split("/").pop();e?$('#main-nav-bar a[href*="'+e+'"]').addClass("nav-active"):$('#main-nav-bar a[href="/"]').addClass("nav-active"),$(".lazy").Lazy(),fixPopover(),$("#tier-1 table, #tier-2 table, #tier-3 table, #tier-4 table, #tier-5 table, #leaderboard-table").DataTable({iDisplayLength:-1,paging:!1}),$('[data-toggle="tooltip"]').tooltip().click(function(e){e.preventDefault()}),$(".util-box").click(function(e){e.stopPropagation();var a=$(this),t=$(""+$(this).data("link"));a.find("span").text(""),a.siblings(".is-active").removeClass("is-active"),a.toggleClass("is-active"),$(".util-box").children().not(t).removeClass("is-active"),t.hasClass("is-active")?t.removeClass("is-active").addClass("is-closed"):t.addClass("is-active")}),$(".util-content").click(function(e){e.stopPropagation()}),$(document).scroll(function(){900<$(this).scrollTop()?$("#scroll-top").css({display:"block"}):$("#scroll-top").css({display:"none"})}),$("#scroll-top").click(function(){return $("html, body").animate({scrollTop:0},280,"easeOutCubic")}),$(document).click(function(e){if(!$(e.target).is(".util-box")||!$(e.target).parents(".util-box").length){var a=$(".util-box").find(".is-active");a.length&&a.removeClass("is-active").addClass("is-closed").parents().removeClass("is-active")}}),$(".lb-summoner").on("click",function(){window.location="/summoner?userName="+$(this).text()+"&region="+location.href.slice(location.href.lastIndexOf("=")+1)}),$("#filter-items input").click(function(){var o=[],s=void 0,c=void 0;$("#filter-items input:checkbox:checked").each(function(){o.push($(this).val())}),0<o.length?$(".league-item-wrapper > div").map(function(){c=!0,s=$(this).attr("tags").split(" ");var e=!0,a=!1,t=void 0;try{for(var i,n=o[Symbol.iterator]();!(e=(i=n.next()).done);e=!0){var r=i.value;if(-1===s.indexOf(r)){c=!1;break}}}catch(e){a=!0,t=e}finally{try{!e&&n.return&&n.return()}finally{if(a)throw t}}c?$(this).show():$(this).hide()}):$(".league-item-wrapper > div").show()}),$("#search-filter input").keyup(function(){var e=$(this).val().toLowerCase();$(".league-item-wrapper > div").each(function(){$(this).data("title").search(e)<0?$(this).hide():$(this).show()})});var a=$(".league-item-wrapper div"),t=$(".league-item-wrapper div").sort(function(e,a){return+$(e).attr("data-price")-+$(a).attr("data-price")}),i=$(".league-item-wrapper div").sort(function(e,a){return+$(a).attr("data-price")-+$(e).attr("data-price")}),n=0;$("#sort-items input").click(function(){1===++n?$(".league-item-wrapper").html(t):2===n?$(".league-item-wrapper").html(i):($(".league-item-wrapper").html(a),n=0),fixPopover()}),$(".delete-post").click(function(){var e=$(this).attr("data-id");$.ajax({type:"DELETE",url:"/post/"+e,success:function(e){window.location.href="/profile"},error:function(e){alert(e)}})}),$(".like-post").click(function(){var a=$(this).attr("data-id"),t=$("#"+a+" .like-count").text();$.ajax({type:"POST",url:"/post/like/"+a,success:function(e){$("#"+a+" .like-post > button").toggleClass("active"),$("#"+a+" .like-count").text(+t+ +e)},error:function(e){errorAlert(e.responseText,"center")}})}),$(".comment-form").submit(function(e){e.preventDefault();var a=$(this).attr("data-id");$.ajax({type:"POST",data:$(this).serialize(),url:"/post/comment/"+a,success:function(e){successAlert("success","center","fa fa-comment")},error:function(e){errorAlert(e.responseText,"center")}})}),$("#message-form").submit(function(e){e.preventDefault(),$this=$(this),$this.addClass("loading");var a=$("#message-form").attr("data-id");$.ajax({type:"POST",data:$(this).serialize(),url:"/message/"+a,success:function(e){successAlert("success","center","fa fa-comment")},error:function(e){errorAlert(e.responseText,"center")},complete:function(){$this.removeClass("loading")}})}),$(document).on("click",".delete-comment",function(){var e=$(this).attr("data-id");$this=$(this),$this.prop("disabled",!0),$.ajax({type:"DELETE",url:"/post/comment/"+e,success:function(e){successAlert("Message deleted","topRight","fa fa-check")},error:function(e){alert(e)},complete:function(){return $this.prop("disabled",!1)}})}),$(document).on("click",".send-friend-request",function(){var e=$(this).attr("data-id");$this=$(this),$this.prop("disabled",!0),$.ajax({type:"POST",url:"users/sendFriendRequest/"+e,success:function(e){$("[data-id="+e+"]").replaceWith($("<button>").addClass("btn btn-warning").html("Pending")),$("#"+e).append($("<button>").addClass("btn btn-danger cancel-friend-request").attr("data-id",e).html("cancle")),successAlert("Request sent","topRight","fa fa-user")},error:function(e){errorAlert("Something went wrong :/ Please try again.","center")},complete:function(){return $this.prop("disabled",!1)}})}),$(document).on("click",".accept-friend-request",function(){var a=$(this).attr("data-id");$this=$(this),$this.prop("disabled",!0),$.ajax({type:"POST",url:"users/acceptFriendRequest/"+a,success:function(e){$("#"+a).remove()},error:function(e){alert(e)},complete:function(){return $this.prop("disabled",!1)}})}),$(document).on("click",".decline-friend-request",function(){var e=$(this).attr("data-id");$this=$(this),$this.prop("disabled",!0),$.ajax({type:"POST",url:"users/declineFriendRequest/"+e,success:function(e){$("#"+e).find("button").remove(),$("#"+e).append($("<button>").addClass("btn btn-success send-friend-request").attr("data-id",e).html("ADD"))},error:function(e){alert(e)},complete:function(){return $this.prop("disabled",!1)}})}),$(document).on("click",".cancel-friend-request",function(){var e=$(this).attr("data-id");$this=$(this),$this.prop("disabled",!0),$.ajax({type:"POST",url:"users/cancelFriendRequest/"+e,success:function(e){$("#"+e).find("button").remove(),$("#"+e).append($("<button>").addClass("btn btn-success send-friend-request").attr("data-id",e).html("ADD"))},error:function(e){alert(e)},complete:function(){return $this.prop("disabled",!1)}})}),$("#overall-wrapper").on("change","#overall-league",function(){createLoader("#overall-patch-tables","Loading"),$.ajax({type:"GET",url:"/statistics/overall/"+$(this).val(),success:function(e){$("#overall-wrapper").html(e)}})}),$("#overall-champs").on("change","#overall-table-elo",function(){createLoader("#overall-table","Loading"),$.ajax({type:"GET",url:"/statistics/overall/champions/"+$(this).val(),success:function(e){$("#overall-champs").html(e)}})}),$("#spectate").click(function(){var e=$(this),a=e.attr("data-id"),t=e.attr("data-region"),i=e.attr("data-key");$.ajax({type:"post",url:"/spectate/"+a,data:{gameId:a,region:t,key:i},success:function(e){window.open("/spectate/"+e)},error:function(e){alert(e)}})}),$(".move-to-trash").click(function(){var e=$("#"+$(this).parent().attr("id"));$.confirm({draggable:!0,closeIcon:!0,icon:"fa fa-warning",type:"red",title:"Confirm",content:"Are you sure you want to delete this message ?",theme:"dark",buttons:{Yes:{action:function(){return e.remove()},btnClass:"btn btn-outline-success"},No:{action:function(){},btnClass:"btn btn-outline-danger"}}})}),$(".clear-trash").click(function(){var e=$("#"+$(this).parent().attr("id"));$.confirm({draggable:!0,closeIcon:!0,icon:"fa fa-warning",type:"red",title:"Confirm",content:"Are you sto delete this message ?",theme:"dark",buttons:{Yes:{action:function(){return e.remove()},btnClass:"btn btn-outline-success"},No:{action:function(){},btnClass:"btn btn-outline-danger"}}})}),$(".delete-photo").click(function(){var e=$(this).data("id"),a=$(this).data("uuid");$.confirm({draggable:!0,closeIcon:!0,icon:"fa fa-warning",type:"red",title:"Confirm",content:"Are you sure you want to delete this photo ?",theme:"dark",buttons:{Yes:{action:function(){$.ajax({url:"/profile/image/"+e,type:"DELETE",data:{uuid:a},success:function(){alert("success")},error:function(){alert("error")}})},btnClass:"btn btn-outline-success"},No:{action:function(){},btnClass:"btn btn-outline-danger"}}})}),$("#summoner-search").on("click","button",function(e){var a=window.location.href+"/summoner?"+$("#summoner-search").serialize()+"&region="+$("#summoner-search .active").attr("data-region");window.location=a}),$("#contact-form").submit(function(e){e.preventDefault(),$(".ajax-loader-wrapper").removeClass("invisible"),$("#contact-form button").prop("disabled",!0),$.ajax({type:"POST",url:"/contact",data:$("#contact-form").serialize(),success:function(e){successAlert(e,"center","fa fa-thumps-up")},error:function(e){errorAlert("Something went wrong :/ Please try again.","center")},complete:function(){$(".ajax-loader-wrapper").addClass("invisible"),$("#contact-form button").prop("disabled",!1)}})}),$("#feedback-form").submit(function(e){e.preventDefault(),$(".ajax-loader-wrapper").removeClass("invisible"),$("#feedback-form button").prop("disabled",!0),$.ajax({type:"POST",url:"/feedback",data:$("#feedback-form").serialize(),success:function(e){successAlert(e,"topRight","fa fa-thumps-up")},error:function(e){errorAlert("Something went wrong :/ Please try again.","center")},complete:function(){$(".ajax-loader-wrapper").addClass("invisible"),$("#feedback-form button").prop("disabled",!1)}})}),$(".remove-feedback").click(function(){$("#feedback-wrapper, .feedback-btns").remove()}),$(".feedback-btn, .close-feedback").click(function(){$("#feedback-wrapper").toggleClass("d-none"),$("#feedback-form textarea").focus()}),$("#inbox-controls > div").click(function(e){if(!$(this).hasClass("inbox-nav-active")){window.location.hash=$(this).attr("id");var a=$(this).attr("data-link");$(".inbox-nav-active").removeClass("inbox-nav-active"),$(this).addClass("inbox-nav-active"),$("#inbox-msg-wrapper > div").hide(),$("#"+a).show()}})}),iziToast.settings({class:"izi-alert",titleSize:"18px",titleColor:"#b1a0ff",messageSize:"15px",messageColor:"#b1a0ff",iconColor:"#b1a0ff",backgroundColor:"rgba(44,44,44,0.7)",progressBarColor:"#b1a0ff",close:!0,position:"topRight",titleLineHeight:"1.2",messageLineHeight:"1.5"}),$("#suhdude").click(function(){iziToast.show({title:"Friend Request",message:'<a href="/users/yojimbozx">yojimbozx</a> sent you a friend request',icon:"fa fa-user"})});var isoCountries={AF:"Afghanistan",AX:"Aland Islands",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",AI:"Anguilla",AQ:"Antarctica",AG:"Antigua And Barbuda",AR:"Argentina",AM:"Armenia",AW:"Aruba",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BM:"Bermuda",BT:"Bhutan",BO:"Bolivia",BA:"Bosnia And Herzegovina",BW:"Botswana",BV:"Bouvet Island",BR:"Brazil",IO:"British Indian Ocean Territory",BN:"Brunei Darussalam",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",KH:"Cambodia",CM:"Cameroon",CA:"Canada",CV:"Cape Verde",KY:"Cayman Islands",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:"China",CX:"Christmas Island",CC:"Cocos (Keeling) Islands",CO:"Colombia",KM:"Comoros",CG:"Congo",CD:"Congo, Democratic Republic",CK:"Cook Islands",CR:"Costa Rica",CI:"Cote D'Ivoire",HR:"Croatia",CU:"Cuba",CY:"Cyprus",CZ:"Czech Republic",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",ET:"Ethiopia",FK:"Falkland Islands (Malvinas)",FO:"Faroe Islands",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",TF:"French Southern Territories",GA:"Gabon",GM:"Gambia",GE:"Georgia",DE:"Germany",GH:"Ghana",GI:"Gibraltar",GR:"Greece",GL:"Greenland",GD:"Grenada",GP:"Guadeloupe",GU:"Guam",GT:"Guatemala",GG:"Guernsey",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",HM:"Heard Island & Mcdonald Islands",VA:"Holy See (Vatican City State)",HN:"Honduras",HK:"Hong Kong",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran, Islamic Republic Of",IQ:"Iraq",IE:"Ireland",IM:"Isle Of Man",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JE:"Jersey",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KR:"Korea",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Lao People's Democratic Republic",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libyan Arab Jamahiriya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MO:"Macao",MK:"Macedonia",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MQ:"Martinique",MR:"Mauritania",MU:"Mauritius",YT:"Mayotte",MX:"Mexico",FM:"Micronesia, Federated States Of",MD:"Moldova",MC:"Monaco",MN:"Mongolia",ME:"Montenegro",MS:"Montserrat",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands",AN:"Netherlands Antilles",NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",MP:"Northern Mariana Islands",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PS:"Palestinian Territory, Occupied",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PN:"Pitcairn",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",RE:"Reunion",RO:"Romania",RU:"Russian Federation",RW:"Rwanda",BL:"Saint Barthelemy",SH:"Saint Helena",KN:"Saint Kitts And Nevis",LC:"Saint Lucia",MF:"Saint Martin",PM:"Saint Pierre And Miquelon",VC:"Saint Vincent And Grenadines",WS:"Samoa",SM:"San Marino",ST:"Sao Tome And Principe",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia And Sandwich Isl.",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SJ:"Svalbard And Jan Mayen",SZ:"Swaziland",SE:"Sweden",CH:"Switzerland",SY:"Syrian Arab Republic",TW:"Taiwan",TJ:"Tajikistan",TZ:"Tanzania",TH:"Thailand",TL:"Timor-Leste",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad And Tobago",TN:"Tunisia",TR:"Turkey",TM:"Turkmenistan",TC:"Turks And Caicos Islands",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",US:"United States",UM:"United States Outlying Islands",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VE:"Venezuela",VN:"Viet Nam",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",WF:"Wallis And Futuna",EH:"Western Sahara",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe"},getCountryName=function(e){return isoCountries[e]?isoCountries[e]:e},socket=io();function uploadImage(){uploadcare.openDialog(null,{crop:"disabled",imagesOnly:!0}).done(function(e){e.promise().done(function(e){$.post("/upload/images",{uuid:e.uuid,cdnUrl:e.cdnUrl},function(){}).done(function(e){return successAlert("Upload complete","topRight","fa fa-check")}).fail(function(e){return errorAlert("Something went wrong :/ Please try again.","center")})})})}socket.on("friendRequest",function(e){successAlert('<a href="/users/'+e+'">'+e+"</a> sent you a friend request","topRight","fa fa-user")}),socket.on("likePost",function(e){successAlert('<a href="/users/'+e+'">'+e+"</a> liked your post","topRight","fa fa-thumbs-up")}),socket.on("comment",function(e){successAlert('<a href="/users/'+e+'">'+e+"</a> commented on your post","topRight","fa fa-comment")}),socket.on("acceptFriendRequest",function(e){successAlert('You and <a href="/users/'+e+'">'+e+"</a> are now friends!","topRight","fa fa-check")});